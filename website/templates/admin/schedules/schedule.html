{% extends "admin.html" %}
{% block title %}Home Page{% endblock %}
{% block pagename %}
    Defense Schedules
{% endblock %}
{% block button %}
	<head>
        <link rel='stylesheet' href="{{ url_for('static', filename ='admin/menu_sheet.css') }}">
	</head>
<a href="/new_sched/">
    <button>Create New Defense Schedule</button>
</a>
{% endblock %}
{% block content %}
    <script>
        $(document).ready(function(){
            $('select').on('change', function(event ) {
                var prevValue = $(this).data('previous');
            $('select').not(this).find('option[value="'+prevValue+'"]').show();    
                var value = $(this).val();
            $(this).data('previous',value); $('select').not(this).find('option[value="'+value+'"]').hide();
            });
        });

		$(document).ready(function(){
            $('select').on('click', function(event ) {
                var prevValue = $(this).data('previous');
            $('select').not(this).find('option[value="'+prevValue+'"]').show();    
                var value = $(this).val();
            $(this).data('previous',value); $('select').not(this).find('option[value="'+value+'"]').hide();
            });
        });
    </script>
    <div class='display_grid'>
        {% if defenses %}
            {% for defense in defenses %}
                <div class='div1'>
					<table>
						<th class = "tb_desc">ID:</th>
						<td colspan = "3"> {{ defense.id }} </td>
						<tr>
						<th class = "tb_desc">Group Name:</th>
						<td colspan = "3"> {{ defense.group.name }} </td>
						<tr>
						<th colspan = "4">Panels:</th>
						<tr>
							{% for panel in defense.panels %}
								{% if panel.id == defense.head_panel_id: %}
									<th class = "no_border"> Head Panelist </th>
									<td colspan = "3">{{ panel.last_name }}, {{ panel.first_name }} {{ panel.middle_in }}. </td><tr>
								{% else: %}
									<th class = "no_border"> Co-Panelist </th>
									<td  colspan = "3">{{ panel.last_name }}, {{ panel.first_name }} {{ panel.middle_in }}.</td><tr>
								{% endif %}
							{% endfor %}
						<th class = "tb_desc">Defense Date:</th>
						<td colspan = "4"> {{ defense.start_date}} </td>
						<tr>
					</table>
					<table class = "tableButton no_border">
						<td class = "no_border sep_20">
						<th class = "no_border sep_10" >
							<a href="/assign_indiv/">
								<button class = "but2" >Assign Individual Gradesheet</button>
							</a>
						</th>
						<th class = "no_border sep_10">
							<a href="">
								<button class = "but2" >Assign Group Gradesheet</button>
							</a>
						</th>
						<th class = "no_border sep_10">
							<a href="/edit_sched/{{ defense.id }}">
								<button class = "but2" >Edit</button>
							</a>
						</th>
						<th class = "no_border sep_10">
							<a href="/delete_sched/{{ defense.id }}">
								<button class = "but2" >Delete</button>
							</a>
						</th>
					</table>
					<br>
                </div>
                
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}