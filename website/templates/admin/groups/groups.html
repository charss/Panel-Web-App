{% extends "admin.html" %}
{% block title %}Home Page{% endblock %}
{% block pagename %}
    Groups
{% endblock %}
{% block button %}
	<head>
        <link rel='stylesheet' href="{{ url_for('static', filename ='admin/menu_sheet.css') }}">
	</head>
<a href="/new_group/">
    <button>Create New Group</button>
</a>
{% endblock %}
{% block content %}
	<style>
        .container {
            width: fit-content;
            height: fit-content;
        }
        textarea {
            height: 30px;
            width: 100%;
            transition: all 0.5s ease;
        }

        textarea:focus {
            height: 5em;
        }
    </style>
    <div class='display_grid'>
        {% if groups %}
            {% for group in groups %}
                <div class='div1'>
					<table>
							<th class = "tb_desc ">ID:</th> 
							<td>{{group.id}}</td>
						<tr>
							<th class = "tb_desc">Group Name:</th> 
							<td>{{group.name}}</td>
						</tr>
						<tr>
							<th class = "tb_desc">Project Title:</th>
							<td>{{ group.project_title }}</td>
						</tr>
						<tr>
							<th class = "tb_desc">Program:</th> 
							<td>{{group.program}}</td>
						</tr>
						<tr>
							<th class = "tb_desc">Mentor:</th> 
							<td>{{ group.mentor.last_name }}, {{ group.mentor.first_name }}</td>
						</tr>
						<tr>
							<th colspan = "2">Members:</th>
						</tr>
						<tr>
							<ul>
								{% for member in group.members %}
									
									<th class = "no_border"> Student No. #{{ member.stud_no }}</th>
									<td> {{ member.last_name }}, {{ member.first_name }} {{ member.middle_in }}.</td>
									<tr>
								{% endfor%}
							</ul>
						</tr>
						
						<th colspan = "2">Defenses:</th>
						<tr>
						<ul>
							{% for defense in group.defenses %}
								<td colspan = "2">{{ defense.id }} - {{ defense.start_date }} </td>
								<tr>
							{% endfor%}
						</ul>
                    </table>
					<table class = "no_border">
						<td class = "no_border sep_20"></td>
						<td class = "no_border sep_20"></td>
						<td class = "no_border sep_20">
						<th class = "no_border sep_10">
							<a href="/edit_group/{{group.id}}">
								<button class = "but2">Edit</button>
							</a>
						</th>
						<th class = "no_border sep_10">
							<a href="/delete_group/{{group.id}}">
								<button class = "but2">Delete</button>
							</a>
						</th>
					</table>
                </div>
            {% endfor %}
        {% endif %}
    </div>
{% endblock %}


